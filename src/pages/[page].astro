---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import Title from "../components/Title.astro";
import Prose from "../components/Prose.astro";

import { getEntry, render } from "astro:content";
import { getCollection } from "astro:content";

const entry = await getEntry("pages", Astro.params.page);
const { Content } = await render(entry!);

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((page) => ({
    params: { page: page.id }
  }));
}
---

<Layout title={entry?.data.title}>
  <main>
    <section class="grid items-end mx-4">
      <Image
        src={entry?.data.banner}
        alt="Members"
        width={1920}
        height={1080}
        class="w-full row-start-1 col-start-1 self-start rounded-md"
        loading="eager"
      />

      <div
        class="text-center sm:mb-4 mt-4 sm:mt-0 flex flex-col gap-1 sm:max-w-[70ch] sm:mx-auto bg-gray-100 rounded-md sm:row-start-1 col-start-1 p-4 md:p-6"
      >
        <Title>{entry?.data.title}</Title>
      </div>
    </section>
    <!-- <section class="grid items-end h-96">
      <Image
        src={entry?.data.banner}
        alt="Banner Image"
        width={1000}
        height={400}
        loading="eager"
        class={entry?.data.istyle}
      />
      <div
        class="text-center mt-6 flex flex-col gap-4 max-w-[70ch] mx-auto bg-white row-start-1 col-start-1 p-10"
      >
        <Title>{entry?.data.title}</Title>
      </div>
    </section> -->
    <section class="grid items-center mt-6 max-w-[70ch] mx-auto">
      <Prose>
        <Content />
      </Prose>
    </section>
  </main>
</Layout>

<style></style>
